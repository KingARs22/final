{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./CSS/ShopCategory.css';import dropdown_icon from'../Components/Assets/dropdown_icon.png';import Item from'../Components/Item/Item';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ShopCategory=props=>{const[products,setProducts]=useState([]);// State to store products\nconst[loading,setLoading]=useState(true);// Loading state to show loading indicator\nconst[error,setError]=useState(null);// Error state to handle errors\n// Fetch products from the backend\nuseEffect(()=>{const fetchProducts=async()=>{try{const response=await fetch('http://localhost:5000/get-product');// Replace with your backend URL\nif(!response.ok){throw new Error('Failed to fetch products');}const data=await response.json();// Parse the response as JSON\nsetProducts(data.products);// Set the products to the state\nsetLoading(false);// Set loading to false once data is fetched\n}catch(err){setError('Error fetching products');setLoading(false);// Set loading to false on error\n}};fetchProducts();},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});// Show loading message while fetching data\n}if(error){return/*#__PURE__*/_jsx(\"div\",{children:error});// Show error message if there's an error\n}return/*#__PURE__*/_jsxs(\"div\",{className:\"shop-category\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"shopcategory-banner\",src:props.banner,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"shopcategory-indexSort\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Showing 1-12\"}),\" out of 36 products\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"shopcategory-sort\",children:[\"Sort by \",/*#__PURE__*/_jsx(\"img\",{src:dropdown_icon,alt:\"\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"shopcategory-products\",children:products.map((item,i)=>{if(props.category===item.category){return/*#__PURE__*/_jsx(Item,{id:item.productid,name:item.name,image:item.image,new_price:item.new_price,old_price:item.old_price},i);}else{return null;}})}),/*#__PURE__*/_jsx(\"div\",{className:\"shopcategory-loadmore\",children:\"Explore More\"})]});};export default ShopCategory;","map":{"version":3,"names":["React","useState","useEffect","dropdown_icon","Item","jsx","_jsx","jsxs","_jsxs","ShopCategory","props","products","setProducts","loading","setLoading","error","setError","fetchProducts","response","fetch","ok","Error","data","json","err","children","className","src","banner","alt","map","item","i","category","id","productid","name","image","new_price","old_price"],"sources":["E:/python/shellovation/frontend/src/Pages/ShopCategory.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport './CSS/ShopCategory.css'\r\nimport dropdown_icon from '../Components/Assets/dropdown_icon.png'\r\nimport Item from '../Components/Item/Item'\r\n\r\nconst ShopCategory = (props) => {\r\n  const [products, setProducts] = useState([]); // State to store products\r\n  const [loading, setLoading] = useState(true); // Loading state to show loading indicator\r\n  const [error, setError] = useState(null); // Error state to handle errors\r\n\r\n  // Fetch products from the backend\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const response = await fetch('http://localhost:5000/get-product'); // Replace with your backend URL\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch products');\r\n        }\r\n        const data = await response.json(); // Parse the response as JSON\r\n        setProducts(data.products); // Set the products to the state\r\n        setLoading(false); // Set loading to false once data is fetched\r\n      } catch (err) {\r\n        setError('Error fetching products');\r\n        setLoading(false); // Set loading to false on error\r\n      }\r\n    };\r\n\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>; // Show loading message while fetching data\r\n  }\r\n\r\n  if (error) {\r\n    return <div>{error}</div>; // Show error message if there's an error\r\n  }\r\n  \r\n   \r\n  return (\r\n    <div className='shop-category'>\r\n      <img className='shopcategory-banner' src={props.banner} alt=\"\" />\r\n      <div className=\"shopcategory-indexSort\">\r\n        <p>\r\n          <span>Showing 1-12</span> out of 36 products\r\n        </p>\r\n        <div className=\"shopcategory-sort\">\r\n          Sort by <img src={dropdown_icon} alt=\"\" />\r\n        </div>\r\n      </div>\r\n      <div className=\"shopcategory-products\">\r\n        {products.map((item, i)=>{\r\n          if (props.category===item.category){\r\n            return <Item key={i} id ={item.productid} name={item.name} image={item.image} new_price = {item.new_price} old_price={item.old_price}/>\r\n          }\r\n          else{\r\n            return null;\r\n          }\r\n        })}\r\n      </div>\r\n      <div className=\"shopcategory-loadmore\">\r\n        Explore More\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ShopCategory"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}